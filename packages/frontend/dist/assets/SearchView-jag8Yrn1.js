import{_ as w,d as k,B as v,g as C,r,o as c,c as h,F as T,j as B,b as o,a as s,t as m,q as S,m as I,T as N,A as F,C as V,f as p,I as q,J as L,h as $,Z as D,E as A,w as _,k as g,s as E,$ as R,N as z,O as U,a0 as K,L as M}from"./index-VyQC9v5j.js";const j={name:"TheComics",components:{TheImage:k},props:{comicList:{type:Array,required:!0}},setup(){return{BASE_URL:v,goBook:C}}},J={class:"absolute w-full max-w-4xl min-w-[300px] left-1/2 -translate-x-1/2 space-y-4 text-white px-1"},O={class:"card-body bg-primary rounded-b-2xl pt-4 px-3 pb-3"},Z={class:"font-base_2 font-medium text-sm text-center tracking-wide sm:text-base"},G={class:"font-base_2 font-medium text-xs opacity-60"},H={class:"font-base_2 font-medium text-xs opacity-60 space-x-1"},P=s("i",{class:"fa-solid fa-eye"},null,-1),Q=s("i",{class:"fa-solid fa-heart"},null,-1);function W(n,t,u,e,x,l){const i=r("TheImage");return c(),h("main",J,[(c(!0),h(T,null,B(u.comicList,a=>(c(),h("div",{key:a._id,class:"w-1/2 md:w-1/3 lg:w-1/4 inline-flex card px-3"},[o(i,{src:`${e.BASE_URL}/${a._id}/${a.coverImage.chapter}/${a.coverImage.page}.webp`,blur:!1,class:"cursor-pointer",onClick:f=>e.goBook(a._id)},null,8,["src","onClick"]),s("div",O,[s("h1",Z,m(a.name),1),s("span",G,m(a.author),1),s("div",H,[P,s("span",null,m(a.viewCount),1),S("   "),Q,s("span",null,m(a.favoriteCount),1)])])]))),128))])}const X=w(j,[["render",W]]),Y={name:"SearchView",components:{TheButton:I,TheIcon:N,TheComics:X,TheNavigation:F},setup(){const n=V(),t=n.query.keyword?p(n.query.keyword):p(""),u=q(()=>!t.value.trim()),e=p([]);return L(()=>n.query.keyword,l=>{t.value=String(l)}),$(async()=>{if(t.value.trim()){const l=await D(t.value);e.value=l.data}}),{goBack:A,keyword:t,isSearchDisabled:u,searchComics:e,searchFn:()=>{t.value.trim()&&R(t.value)}}}},ee=s("span",{class:"text-2xl"},"<",-1),te=[ee],se={class:"relative flex-grow flex items-center pr-2 font-Noto"},ae={key:0,class:"absolute top-44 text-xl text-center w-full text-white font-base_3"};function oe(n,t,u,e,x,l){const i=r("TheIcon"),a=r("TheButton"),f=r("router-link"),y=r("TheNavigation"),b=r("TheComics");return c(),h("main",null,[o(y,null,{left:_(()=>[s("button",{class:"text-white btn btn-sm btn-ghost tracking-wider font-medium text-lg px-4",onClick:t[0]||(t[0]=(...d)=>e.goBack&&e.goBack(...d))},te)]),right:_(()=>[s("div",se,[z(s("input",{type:"text",placeholder:"搜索标题或标签",class:"nav-input","onUpdate:modelValue":t[1]||(t[1]=d=>e.keyword=d),onKeyup:t[2]||(t[2]=K((...d)=>e.searchFn&&e.searchFn(...d),["enter"]))},null,544),[[U,e.keyword]]),o(i,{type:"magnifying-glass",class:"absolute left-4"}),o(a,{shape:"circle",type:"error",disabled:e.isSearchDisabled,class:"absolute right-4 size-6"},{default:_(()=>[o(i,{size:"sm",type:"arrow-right",class:M(["text-base",{"text-white":!e.isSearchDisabled}]),onClick:e.searchFn},null,8,["class","onClick"])]),_:1},8,["disabled"])]),o(f,{to:{name:"home"},class:"relative btn btn-info btn-circle text-white"},{default:_(()=>[o(i,{type:"house",class:"lg:text-lg xl:text-xl 2xl:text-2xl"})]),_:1})]),_:1}),e.searchComics.length===0&&n.$route.query.keyword?(c(),h("h1",ae," 什么也没有找见 ")):g("",!0),e.searchComics?(c(),E(b,{key:1,class:"top-20","comic-list":e.searchComics},null,8,["comic-list"])):g("",!0)])}const re=w(Y,[["render",oe]]);export{re as default};
