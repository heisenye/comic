import{_ as g,l as k,T as b,H as v,m as T,e as h,L as C,n as B,f as N,a2 as S,J as V,r as n,c as u,b as o,x as r,s as x,k as F,a3 as q,o as m,a as l,y as D,P as z,a4 as I,N as K}from"./index-xdpmMOr-.js";import{T as M}from"./TheComics-p1bW7uVB.js";const R={name:"SearchView",components:{TheButton:k,TheIcon:b,TheComics:M,TheNavigation:v},setup(){const s=T(),t=s.query.keyword?h(s.query.keyword):h(""),d=C(()=>!t.value.trim()),e=h([]);return B(()=>s.query.keyword,c=>{t.value=String(c)}),N(async()=>{if(t.value.trim()){const c=await S(t.value);e.value=c.data}}),{goBack:V,keyword:t,isSearchDisabled:d,searchComics:e,searchFn:()=>{t.value.trim()&&q(t.value)}}}},E=l("span",{class:"text-2xl"},"<",-1),H=[E],J={class:"relative flex-grow flex items-center pr-2 font-Noto"},L={key:0,class:"absolute top-44 text-xl text-center w-full text-white font-base"};function P(s,t,d,e,w,c){const i=n("TheIcon"),_=n("TheButton"),f=n("router-link"),p=n("TheNavigation"),y=n("TheComics");return m(),u("main",null,[o(p,null,{left:r(()=>[l("button",{class:"text-white btn btn-sm btn-ghost tracking-wider font-medium text-lg px-4",onClick:t[0]||(t[0]=(...a)=>e.goBack&&e.goBack(...a))},H)]),right:r(()=>[l("div",J,[D(l("input",{type:"text",placeholder:"搜索标题或标签",class:"nav-input","onUpdate:modelValue":t[1]||(t[1]=a=>e.keyword=a),onKeyup:t[2]||(t[2]=I((...a)=>e.searchFn&&e.searchFn(...a),["enter"]))},null,544),[[z,e.keyword]]),o(i,{type:"magnifying-glass",class:"absolute left-4"}),o(_,{shape:"circle",type:"error",disabled:e.isSearchDisabled,class:"absolute right-4 size-6 shadow-md"},{default:r(()=>[o(i,{size:"sm",type:"arrow-right",class:K(["text-base",{"text-white":!e.isSearchDisabled}]),onClick:e.searchFn},null,8,["class","onClick"])]),_:1},8,["disabled"])]),o(f,{to:{name:"home"},class:"relative btn btn-info btn-circle shadow-neutral shadow-md text-white"},{default:r(()=>[o(i,{type:"house",class:"lg:text-lg xl:text-xl 2xl:text-2xl"})]),_:1})]),_:1}),e.searchComics.length===0&&s.$route.query.keyword?(m(),u("h1",L," 什么也没有找见 ")):x("",!0),e.searchComics?(m(),F(y,{key:1,class:"top-20","comic-list":e.searchComics},null,8,["comic-list"])):x("",!0)])}const A=g(R,[["render",P]]);export{A as default};
