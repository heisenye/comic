import{_ as k,n as y,T as b,G as v,u as T,f as h,K as C,w as B,h as S,a1 as N,I as V,r as n,c as u,b as o,v as r,k as x,m as F,a2 as q,o as m,a as l,x as D,O as I,a3 as z,M as K}from"./index-sgCXFzMl.js";import{T as M}from"./TheComics-41Gk5oPf.js";const R={name:"SearchView",components:{TheButton:y,TheIcon:b,TheComics:M,TheNavigation:v},setup(){const s=T(),t=s.query.keyword?h(s.query.keyword):h(""),d=C(()=>!t.value.trim()),e=h([]);return B(()=>s.query.keyword,c=>{t.value=String(c)}),S(async()=>{if(t.value.trim()){const c=await N(t.value);e.value=c.data}}),{goBack:V,keyword:t,isSearchDisabled:d,searchComics:e,searchFn:()=>{t.value.trim()&&q(t.value)}}}},E=l("span",{class:"text-2xl"},"<",-1),G=[E],O={class:"relative flex-grow flex items-center pr-2 font-Noto"},U={key:0,class:"absolute top-44 text-xl text-center w-full text-white font-base_3"};function j(s,t,d,e,w,c){const i=n("TheIcon"),_=n("TheButton"),f=n("router-link"),p=n("TheNavigation"),g=n("TheComics");return m(),u("main",null,[o(p,null,{left:r(()=>[l("button",{class:"text-white btn btn-sm btn-ghost tracking-wider font-medium text-lg px-4",onClick:t[0]||(t[0]=(...a)=>e.goBack&&e.goBack(...a))},G)]),right:r(()=>[l("div",O,[D(l("input",{type:"text",placeholder:"搜索标题或标签",class:"nav-input","onUpdate:modelValue":t[1]||(t[1]=a=>e.keyword=a),onKeyup:t[2]||(t[2]=z((...a)=>e.searchFn&&e.searchFn(...a),["enter"]))},null,544),[[I,e.keyword]]),o(i,{type:"magnifying-glass",class:"absolute left-4"}),o(_,{shape:"circle",type:"error",disabled:e.isSearchDisabled,class:"absolute right-4 size-6 shadow-md"},{default:r(()=>[o(i,{size:"sm",type:"arrow-right",class:K(["text-base",{"text-white":!e.isSearchDisabled}]),onClick:e.searchFn},null,8,["class","onClick"])]),_:1},8,["disabled"])]),o(f,{to:{name:"home"},class:"relative btn btn-info btn-circle shadow-neutral shadow-md text-white"},{default:r(()=>[o(i,{type:"house",class:"lg:text-lg xl:text-xl 2xl:text-2xl"})]),_:1})]),_:1}),e.searchComics.length===0&&s.$route.query.keyword?(m(),u("h1",U," 什么也没有找见 ")):x("",!0),e.searchComics?(m(),F(g,{key:1,class:"top-20","comic-list":e.searchComics},null,8,["comic-list"])):x("",!0)])}const J=k(R,[["render",j]]);export{J as default};
