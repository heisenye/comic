import{_,g as p,d as x,e as f,w as h,f as g,h as y,B as v,u as l,c as r,F as w,i as k,j as C,r as b,o as n,b as B,a as d,t as H}from"./index-PvhjrqIM.js";const I={name:"HistoryView",methods:{goBook:p},components:{TheImage:x},setup(){const{history:s}=l(),o=f([]);return h(()=>{o.value=o.value.filter(a=>s.value.includes(a._id))}),g(async()=>{const a=await y(s.value);if(a.code===200){const t=a.data;o.value=t.sort((c,i)=>s.value.indexOf(i._id)-s.value.indexOf(c._id))}}),{BASE_URL:v,historyComics:o,useHistory:l}}},V={class:"relative top-40 mx-auto w-full max-w-screen-2xl min-w-[300px] px-1 space-y-4 text-white"},$=["onClick"],E={class:"card-body text-center bg-primary rounded-b-2xl font-base py-6 px-0 whitespace-nowrap"},S={key:0,class:"relative top-20 text-lg font-black text-center font-base"};function F(s,o,a,t,c,i){const m=b("TheImage");return n(),r("main",V,[(n(!0),r(w,null,k(t.historyComics,e=>(n(),r("div",{key:e._id,class:"w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 card inline-flex px-4 md:px-3 lg:px-2 indicator"},[B(m,{class:"cursor-pointer",src:`${t.BASE_URL}/${e._id}/${e.coverImage.chapter}/${e.coverImage.page}.webp`,onClick:u=>i.goBook(e._id)},null,8,["src","onClick"]),d("i",{class:"indicator-item cursor-pointer fa-solid fa-circle-xmark absolute right-2",onClick:u=>t.useHistory().removeHistoryFromStorage(e._id)},null,8,$),d("div",E,H(e.name),1)]))),128)),t.historyComics.length===0?(n(),r("h1",S," 当前未观看漫画哦 ")):C("",!0)])}const N=_(I,[["render",F]]);export{N as default};
