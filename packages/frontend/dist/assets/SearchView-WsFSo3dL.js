import{_ as p,d as w,B as y,g as k,r as h,o as r,c as l,F as v,j as b,b as x,a as s,t as d,q as C,A as B,C as T,f as m,J as F,h as N,Z as S,E as $,w as _,k as f,s as V,$ as q,N as I,O as L,a0 as A}from"./index-stNcuBHF.js";const E={name:"TheComics",components:{TheImage:w},props:{comicList:{type:Array,required:!0}},setup(){return{BASE_URL:y,goBook:k}}},R={class:"absolute w-full max-w-4xl min-w-[300px] left-1/2 -translate-x-1/2 space-y-4 text-white px-1"},U={class:"card-body bg-primary rounded-b-2xl pt-4 px-3 pb-3"},D={class:"font-cn_2 font-medium text-sm text-center tracking-wide sm:text-base"},K={class:"font-cn_2 font-medium text-xs opacity-60"},M={class:"font-cn_2 font-medium text-xs opacity-60 space-x-1"},j=s("i",{class:"fa-solid fa-eye"},null,-1),J=s("i",{class:"fa-solid fa-heart"},null,-1);function O(a,e,c,t,i,g){const u=h("TheImage");return r(),l("main",R,[(r(!0),l(v,null,b(c.comicList,o=>(r(),l("div",{key:o._id,class:"w-1/2 md:w-1/3 lg:w-1/4 inline-flex card px-3"},[x(u,{src:`${t.BASE_URL}/${o._id}/${o.coverImage.chapter}/${o.coverImage.page}.webp`,blur:!1,class:"cursor-pointer",onClick:n=>t.goBook(o._id)},null,8,["src","onClick"]),s("div",U,[s("h1",D,d(o.name),1),s("span",K,d(o.author),1),s("div",M,[j,s("span",null,d(o.viewCount),1),C("   "),J,s("span",null,d(o.favoriteCount),1)])])]))),128))])}const Z=p(E,[["render",O]]),z={name:"SearchView",components:{TheComics:Z,TheNavigation:B},setup(){const a=T(),e=a.query.keyword?m(a.query.keyword):m(""),c=m([]);return F(()=>a.query.keyword,i=>{e.value=String(i)}),N(async()=>{if(e.value.trim()){const i=await S(e.value);c.value=i.data}}),{goBack:$,keyword:e,searchComics:c,searchFn:()=>{e.value.trim()&&q(e.value)}}}},G=s("span",{class:"text-2xl"},"<",-1),H=[G],P={class:"relative flex-grow flex items-center pr-2 font-cn_3"},Q=s("i",{class:"fa-solid fa-magnifying-glass absolute left-4"},null,-1),W={key:0,class:"absolute top-44 text-xl text-center w-full text-white font-cn_3"};function X(a,e,c,t,i,g){const u=h("TheNavigation"),o=h("TheComics");return r(),l("main",null,[x(u,null,{left:_(()=>[s("button",{class:"text-white btn btn-sm btn-ghost tracking-wider font-medium text-lg px-4",onClick:e[0]||(e[0]=(...n)=>t.goBack&&t.goBack(...n))},H)]),right:_(()=>[s("div",P,[I(s("input",{type:"text",placeholder:"搜索标题或标签",class:"comic-input","onUpdate:modelValue":e[1]||(e[1]=n=>t.keyword=n),onKeyup:e[2]||(e[2]=A((...n)=>t.searchFn&&t.searchFn(...n),["enter"]))},null,544),[[L,t.keyword]]),Q]),s("button",{class:"btn btn-info btn-sm rounded-md text-white font-cn_2",onClick:e[3]||(e[3]=(...n)=>t.searchFn&&t.searchFn(...n))}," 搜寻 ")]),_:1}),t.searchComics.length===0&&a.$route.query.keyword?(r(),l("h1",W," 什么也没有找见 ")):f("",!0),t.searchComics?(r(),V(o,{key:1,class:"top-20","comic-list":t.searchComics},null,8,["comic-list"])):f("",!0)])}const ee=p(z,[["render",X]]);export{ee as default};
